// Internationalization (i18n) for English and Bengali
const translations = {
    en: {
        nav: {
            home: "HOME",
            query: "QUERY",
            gallery: "GALLERY",
            about: "ABOUT US",
            contact: "CONTACT US",
            login: "Login"
        },
        hero: {
            title: "Enjoy<br>YOUR HOLIDAY",
            subtitle: "WITH YOUR FAMILY AND FRIENDS",
            button: "Explore Packages"
        },
        filter: {
            title: "Filter by University",
            all: "All Universities"
        },
        packages: {
            inside: "üìç Inside Bangladesh",
            outside: "‚úàÔ∏è Outside Bangladesh",
            price: "Starting From",
            currency: "BDT",
            book: "Book Now",
            seats: "Seats",
            discount: "OFF"
        },
        contact: {
            title: "Send Us a Message",
            name: "Name",
            email: "Email",
            message: "Message",
            send: "Send Message",
            success: "Message sent successfully!",
            error: "Failed to send message. Please try again."
        },
        footer: {
            copyright: "Your Trusted Partner for Student Travel & Tourism"
        }
    },
    bn: {
        nav: {
            home: "‡¶π‡ßã‡¶Æ",
            query: "‡¶ï‡ßÅ‡¶Ø‡¶º‡ßá‡¶∞‡¶ø",
            gallery: "‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø",
            about: "‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá",
            contact: "‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó",
            login: "‡¶≤‡¶ó‡¶á‡¶®"
        },
        hero: {
            title: "‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®<br>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶¶‡¶ø‡¶®",
            subtitle: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá",
            button: "‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"
        },
        filter: {
            title: "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®",
            all: "‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º"
        },
        packages: {
            inside: "üìç ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá",
            outside: "‚úàÔ∏è ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá",
            price: "‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
            currency: "‡¶ü‡¶æ‡¶ï‡¶æ",
            book: "‡¶¨‡ßÅ‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®",
            seats: "‡¶∏‡¶ø‡¶ü",
            discount: "‡¶õ‡¶æ‡¶°‡¶º"
        },
        contact: {
            title: "‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®",
            name: "‡¶®‡¶æ‡¶Æ",
            email: "‡¶á‡¶Æ‡ßá‡¶á‡¶≤",
            message: "‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ",
            send: "‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®",
            success: "‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
            error: "‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
        },
        footer: {
            copyright: "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶≠‡ßç‡¶∞‡¶Æ‡¶£ ‡¶ì ‡¶™‡¶∞‡ßç‡¶Ø‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶Ö‡¶Ç‡¶∂‡ßÄ‡¶¶‡¶æ‡¶∞"
        }
    }
};

let currentLang = 'en';

// Initialize language
function initLanguage() {
    const savedLang = localStorage.getItem('language') || 'en';
    setLanguage(savedLang);
}

// Set language
function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');
        let translation = translations[lang];
        
        for (const k of keys) {
            translation = translation[k];
        }
        
        if (translation) {
            element.innerHTML = translation;
        }
    });
    
    // Update language toggle button
    const langIcon = document.getElementById('langIcon');
    const langText = document.getElementById('langText');
    
    if (langIcon && langText) {
        if (lang === 'en') {
            langIcon.textContent = 'üá¨üáß';
            langText.textContent = 'EN';
        } else {
            langIcon.textContent = 'üáßüá©';
            langText.textContent = '‡¶¨‡¶æ‡¶Ç';
        }
    }
    
    // Reload packages with new language (for UI elements only)
    if (typeof loadPackages === 'function' && typeof currentUniversityFilter !== 'undefined') {
        loadPackages(currentUniversityFilter);
    }
}

// Toggle language
function toggleLanguage() {
    const newLang = currentLang === 'en' ? 'bn' : 'en';
    setLanguage(newLang);
}

// Get translation
function t(key) {
    const keys = key.split('.');
    let translation = translations[currentLang];
    
    for (const k of keys) {
        translation = translation[k];
    }
    
    return translation || key;
}

// Export functions
window.initLanguage = initLanguage;
window.toggleLanguage = toggleLanguage;
window.t = t;
window.getCurrentLang = () => currentLang;
